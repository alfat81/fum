<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Полезные документы | Комиссия по фигурному управлению мотоциклом | МФР</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo-container">
                <div class="logo-left">
                    <img src="images/logo_sm.png" alt="Логотип комиссии" class="logo-img">
                </div>
                <div class="logo-right">
                    <div class="official-name">МОТОЦИКЛЕТНАЯ ФЕДЕРАЦИЯ РОССИИ</div>
                    <div class="commission-name">КОМИССИЯ ПО ФИГУРНОМУ УПРАВЛЕНИЮ МОТОЦИКЛОМ (МОТОДЖИМХАНА)</div>
                </div>
            </div>
            <button class="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html" class="nav-link">Главная</a></li>
                    <li><a href="about.html" class="nav-link">О комиссии</a></li>
                    <li><a href="structure.html" class="nav-link">Структура комиссии</a></li>
                    <li><a href="calendar.html" class="nav-link">Календарь соревнований</a></li>
                    <li><a href="documents.html" class="nav-link active">Полезные документы</a></li>
                    <li><a href="contacts.html" class="nav-link">Контакты</a></li>
                    <li><a href="partners.html" class="nav-link">Партнеры</a></li>
                </ul>
            </nav>
            
            <!-- Mobile menu -->
            <nav class="mobile-menu">
                <div class="mobile-nav">
                    <ul>
                        <li><a href="index.html" class="nav-link">Главная</a></li>
                        <li><a href="about.html" class="nav-link">О комиссии</a></li>
                        <li><a href="structure.html" class="nav-link">Структура комиссии</a></li>
                        <li><a href="calendar.html" class="nav-link">Календарь соревнований</a></li>
                        <li><a href="documents.html" class="nav-link active">Полезные документы</a></li>
                        <li><a href="contacts.html" class="nav-link">Контакты</a></li>
                        <li><a href="partners.html" class="nav-link">Партнеры</a></li>
                    </ul>
                </div>
            </nav>
        </header>

        <main class="content">
            <h1 class="page-title">Полезные документы</h1>
            
            <section class="documents-section">
                <div class="documents-info">
                    <p><i class="fas fa-info-circle"></i> Все документы доступны для скачивания ниже. Для получения новых документов обратитесь к администрации комиссии.</p>
                    <p>Для загрузки новых документов используйте панель администратора.</p>
                </div>
                
                <div class="documents-filters">
                    <button class="filter-btn active" data-filter="all">Все документы</button>
                    <button class="filter-btn" data-filter="rules">Правила</button>
                    <button class="filter-btn" data-filter="regulations">Регламенты</button>
                    <button class="filter-btn" data-filter="licenses">Лицензии</button>
                    <button class="filter-btn" data-filter="other">Прочее</button>
                </div>
                
                <div class="documents-grid" id="documents-container">
                    <!-- Документы будут загружены из localStorage -->
                </div>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-logos">
                <a href="https://www.mfr.ru/" target="_blank">
                    <img src="images/mfr_logo.png" alt="Логотип МФР">
                </a>
                <a href="https://www.minsport.gov.ru/" target="_blank">
                    <img src="images/logo_minsport.png" alt="Логотип Министерства спорта РФ">
                </a>
            </div>
            <div class="footer-links">
                <a href="documents.html" class="document-link">Документы комиссии</a>
                <a href="https://www.mfr.ru/" target="_blank">Официальный сайт МФР</a>
                <a href="https://www.mfr.ru/disciplines/motodzhimkhana/" target="_blank">Страница мотоджимханы на сайте МФР</a>
            </div>
            <div class="copyright">
                © 2025 Мотоциклетная Федерация России
            </div>
        </footer>
    </div>

    <!-- Admin tab -->
    <div class="admin-tab" id="admin-tab">
        <i class="fas fa-cog"></i>
    </div>

    <!-- Admin panel -->
    <div class="admin-panel" id="admin-panel">
        <!-- Содержимое панели идентично index.html -->
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Фильтрация документов
            const filterButtons = document.querySelectorAll('.filter-btn');
            const documentCards = document.querySelectorAll('.document-card');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Убираем активный класс со всех кнопок
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Добавляем активный класс к текущей кнопке
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    filterDocuments(filter);
                });
            });
            
            // Загрузка документов из localStorage
            function loadDocuments() {
                const documentsContainer = document.getElementById('documents-container');
                const documents = getDocuments();
                
                documentsContainer.innerHTML = '';
                
                if (documents.length === 0) {
                    documentsContainer.innerHTML = '<p class="no-documents">Нет доступных документов</p>';
                    return;
                }
                
                documents.forEach(doc => {
                    documentsContainer.appendChild(createDocumentCard(doc));
                });
            }
            
            // Получение документов из localStorage
            function getDocuments() {
                const savedDocuments = localStorage.getItem('documentsList');
                return savedDocuments ? JSON.parse(savedDocuments) : [
                    {
                        id: 1,
                        name: 'Правила соревнований по фигурному управлению мотоциклом',
                        url: '#',
                        category: 'rules',
                        date: '15.01.2025',
                        size: '1.2 МБ'
                    },
                    {
                        id: 2,
                        name: 'Регламент Кубка России 2025',
                        url: '#',
                        category: 'regulations',
                        date: '20.11.2024',
                        size: '2.4 МБ'
                    },
                    {
                        id: 3,
                        name: 'Порядок оформления спортивных лицензий',
                        url: '#',
                        category: 'licenses',
                        date: '10.01.2025',
                        size: '0.8 МБ'
                    },
                    {
                        id: 4,
                        name: 'Требования к экипировке',
                        url: '#',
                        category: 'rules',
                        date: '30.11.2024',
                        size: '0.9 МБ'
                    },
                    {
                        id: 5,
                        name: 'Положение о проведении соревнований',
                        url: '#',
                        category: 'regulations',
                        date: '05.12.2024',
                        size: '1.5 МБ'
                    },
                    {
                        id: 6,
                        name: 'Медицинские требования',
                        url: '#',
                        category: 'licenses',
                        date: '15.01.2025',
                        size: '0.7 МБ'
                    }
                ];
            }
            
            // Создание карточки документа
            function createDocumentCard(document) {
                const docCard = document.createElement('div');
                docCard.className = `document-card ${document.category}`;
                docCard.innerHTML = `
                    <div class="document-icon">
                        <i class="${getCategoryIcon(document.category)}"></i>
                    </div>
                    <h3 class="document-title">${document.name}</h3>
                    <div class="document-meta">
                        <span class="document-date">${document.date}</span>
                        <span class="document-size">${document.size}</span>
                    </div>
                    <a href="${document.url}" target="_blank" class="document-link" download>
                        <i class="fas fa-download"></i> Скачать документ
                    </a>
                `;
                return docCard;
            }
            
            // Получение иконки по категории
            function getCategoryIcon(category) {
                const icons = {
                    'rules': 'fas fa-balance-scale',
                    'regulations': 'fas fa-calendar-alt',
                    'licenses': 'fas fa-id-card',
                    'other': 'fas fa-file-alt'
                };
                return icons[category] || 'fas fa-file-alt';
            }
            
            // Фильтрация документов
            function filterDocuments(filter) {
                const documentsContainer = document.getElementById('documents-container');
                const documents = getDocuments();
                
                documentsContainer.innerHTML = '';
                
                const filteredDocuments = filter === 'all' 
                    ? documents 
                    : documents.filter(doc => doc.category === filter);
                
                if (filteredDocuments.length === 0) {
                    documentsContainer.innerHTML = '<p class="no-documents">Документы не найдены</p>';
                    return;
                }
                
                filteredDocuments.forEach(doc => {
                    documentsContainer.appendChild(createDocumentCard(doc));
                });
            }
            
            // Начальная загрузка документов
            loadDocuments();
        });
    </script>
</body>
</html>
